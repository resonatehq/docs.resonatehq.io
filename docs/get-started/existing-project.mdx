---
id: existing-project
title: Integrate Resonate into an existing project
sidebar_label: Existing project
sidebar_position: 2
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

**How to integrate Resonate into an existing project.**

You can integrate Resonate into an existing project by just adding the Resonate SDK as a dependency and initializing it in your Worker or Application Node.
You don't need to run a Resonate Server to get started â€” Resonate will store all promises in local memory, until you are ready to add remote invocations and long term durability to your application.

## Add the SDK to your project

Add the Resonate SDK to your project as a dependency.

<Tabs
    groupId="language"
    defaultValue="python"
    values={[
        { label: "Python", value: "python" },
        { label: "TypeScript", value: "typescript" },
    ]}
>
    <TabItem value="python">
    
Add with uv:

```shell
uv add resonate-sdk
```

Add with pip:

```shell
pip install resonate-sdk
```

    </TabItem>

    <TabItem value="typescript">

Add with npm:

```shell
npm install @resonatehq/sdk
```

Add with yarn:

```shell
yarn add @resonatehq/sdk
```

    </TabItem>

</Tabs>

## Initialize Resonate

Then, initialize Resonate in your script, worker, or application.

Initialize using local memory as a promise store.
Using local memory does not require any additional dependencies (such as a Resonate Server).

```python
from resonate import Resonate

resonate = Resonate().local()
```

Initialize using a remote promise store and message source.
The default configuration connects to a locally running Resonate Server.

```python
from resonate import Resonate

resonate = Resonate.remote()
```

### 3. Register a function

Register a function with Resonate using the `register` decorator or the `register` method.

All functions registered with Resonate or called from a Resonate function must define Context as the first argument.

```python
@resonate.register
def foo(ctx, arg1, arg2):
    # Your function logic here
    return result
```

You can also register a function with the register method.

```python
def foo(ctx, arg1, arg2):
    # Your function logic here
    return result

resonate.register(foo)
```

### 4. Invoke a function

Invoke a function registered with Resonate using the `run` method or the `rpc` method.

If the function is in the same Worker or Application Node, you can invoke it directly with the run method.

```python
handle = foo.run(promise_id, arg1, arg2)

# or using the Resonate instance
handle = resonate.run(promise_id, "foo", arg1, arg2)
```

If the function is in a different Worker or Application Node, you can invoke it with the rpc method on the Resonate instance.
To do this, your worker must be connected to a remote store and message source (Resonate Server).

```python
handle = resonate
  .options(target="<transport_plugin>://<unique_id>@<group>/<id>")
  .rpc("foo", promise_id, arg1, arg2)
```

### 5. Get the result

Getting the result of a function is a blocking operation.

Use the `.result()` method on the handle to get the result of the function.

```python
result = handle.result()
```

## TypeScript SDK

Integrate the Resonate TypeScript SDK into your existing TypeScript project.

:::caution New Release in development

A new release of the The TypeScript SDK is currently in development.
The following instructions are for the current version, which will not be compatible with the new version.
We recommend waiting for the new release to be available before integrating the TypeScript SDK into your project.

:::

### 2. Initialize Resonate

Initialize Resonate in your Worker or Application Node.

```typescript
import { Resonate } from "@resonatehq/sdk";

const resonate = new Resonate();
```

### 3. Register a function

You can register a function with Resonate using the `register` method.
All functions registered with Resonate or called from a Resonate function must define `Context` as the first argument.

```typescript
resonate.register("custom-function-name", foo);

function foo(ctx: Context, arg1: any, arg2: any): any {
  // Your function logic here
  return result;
}
```

### 4. Invoke a function

The current version of the TypeScript SDK only supports calling functions locally.
And you must use the `start` method to initialize the Resonate instance before calling any functions.

```typescript
resonate.start();

const handle = resonate.run("custom-function-name", promiseId, arg1, arg2);
```

### 5. Get the result

Getting the result of a function is a blocking operation.

Await on the handle to get the result of the function.

```typescript
const result = await handle;
```
