---
id: human-in-the-loop
title: Human-in-the-loop use case
sidebar_label: Human in the loop
sidebar_position: 2
---

![human-in-the-loop banner](/img/human-in-the-loop-banner.png)

Start a new project that has an existing workflow that waits on input from a human.

import CloneRepoGrid from "@site/src/components/CloneRepoGrid/CloneRepoGrid";
import CloneRepoCard from "@site/src/components/CloneRepoCard/CloneRepoCard";

<CloneRepoGrid>
  <CloneRepoCard
    sdk="Python SDK"
    description="Human-in-the-loop use case project example"
    link="https://github.com/resonatehq-examples/example-human-in-the-loop-py"
  />
  <CloneRepoCard
    sdk="TypeScript SDK"
    description="Human-in-the-loop use case project example"
    link="https://github.com/resonatehq-examples/example-human-in-the-loop-ts"
  />
</CloneRepoGrid>

## Problem

You want to build a system that requires human input at certain stages of the process, such as manual review or approval.

How do you suspend a business process until a human completes a task, and then resume it once the task is done?

## Solution

Await a Durable Promise to block the process until the human completes their task, then resolve the Promise to resume execution.

## Quick example

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<Tabs
    groupId="preferred-language"
    defaultValue="typescript"
    values={[
        {label: 'TypeScript', value: 'typescript'},
        {label: 'Python', value: 'python'},
    ]}>

    <TabItem value="typescript" >

```typescript title="worker/index.ts"
function* foo(context: Context, workflowId: string): Generator<any, void, any> {
  // create a promise
  const blockingPromise = yield* context.promise();
  // expose the id to the outside world
  yield* context.run(sendEmail, blockingPromise.id);
  console.log(`blocked, waiting on human interaction`);
  // wait until the promise is resolved
  yield* blockingPromise;
  console.log(`unblocked, promise resolved`);
  return;
}
```

```typescript title="gateway/index.ts"
app.get("/unblock-workflow", async (req: Request, res: Response) => {
  // expose an endpoint to resolve the promise
  try {
    // ...
    // unblock a workflow by resolving a promise
    await resonate.promises.resolve(promiseId);
    // ...
  } catch (err: any) {
    // ...
  }
});
```

  </TabItem>
</Tabs>
