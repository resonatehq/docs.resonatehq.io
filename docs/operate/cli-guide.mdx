---
id: cli-guide
title: Using the Resonate CLI
sidebar_label: CLI guide
description: Learn how to use the Resonate command-line interface effectively.
sidebar_position: 8
tags:
  - operate
  - cli
---

The Resonate CLI is your primary tool for running the server, managing Durable Promises, and interacting with the Resonate system.

## Getting help

The CLI has excellent built-in help. Use `--help` on any command to see detailed usage:

```shell title="Get help on any command"
resonate --help
resonate <command> --help
resonate <command> <subcommand> --help
```

**Examples:**

```shell title="See all available commands"
resonate --help
```

```shell title="Learn about the promises command"
resonate promises --help
```

```shell title="See how to resolve a promise"
resonate promises resolve --help
```

:::tip Always check --help first
The CLI help is always up-to-date with your installed version. The built-in examples show exactly what syntax to use.
:::

## Common workflows

### Start a development server

```shell title="Start server with in-memory storage"
resonate dev
```

The server starts on:
- HTTP API: `http://localhost:8001`
- gRPC API: `localhost:50051`
- Metrics: `http://localhost:9090`

See [`resonate dev --help`](/operate/cli-reference/commands/dev) for options.

### Start a production server

```shell title="Start with persistent SQLite storage"
resonate serve --aio-store-sqlite-path /var/lib/resonate/resonate.db
```

```shell title="Start with PostgreSQL"
resonate serve \
  --aio-store-postgres-enable \
  --aio-store-postgres-host localhost \
  --aio-store-postgres-database resonate \
  --aio-store-postgres-username resonate \
  --aio-store-postgres-password secret
```

See [`resonate serve --help`](/operate/cli-reference/commands/serve) for all configuration options.

### Invoke a function

```shell title="Trigger a function manually"
resonate invoke order-123 --func processOrder --arg '{"orderId": "123"}'
```

Useful for:
- Testing functions outside your application
- Triggering workflows manually
- Debugging function behavior

### Manage Durable Promises

**Create a promise:**

```shell title="Create a promise for human-in-the-loop"
resonate promises create approval-456 --timeout 24h
```

**Resolve a promise:**

```shell title="Unblock a waiting workflow"
resonate promises resolve approval-456 --data '{"approved": true}'
```

**Check promise state:**

```shell title="Inspect a promise"
resonate promises get order-123
```

**Search for promises:**

```shell title="Find pending promises"
resonate promises search "*" --state pending --limit 10
```

### Work with schedules

**Create a recurring schedule:**

```shell title="Run a function every hour"
resonate schedules create hourly-sync \
  --cron "0 * * * *" \
  --promise-id "sync-{{.timestamp}}" \
  --description "Hourly data sync"
```

**List schedules:**

```shell title="See all schedules"
resonate schedules search "*"
```

**Delete a schedule:**

```shell title="Remove a schedule"
resonate schedules delete hourly-sync
```

## Authentication

If your server requires authentication, pass credentials with every command:

**Token authentication:**

```shell title="Use bearer token"
resonate promises get order-123 --token YOUR_TOKEN
```

**Basic authentication:**

```shell title="Use username and password"
resonate promises get order-123 --username admin --password secret
```

Or set environment variables:

```shell title="Set auth via environment"
export RESONATE_TOKEN="YOUR_TOKEN"
# or
export RESONATE_USERNAME="admin"
export RESONATE_PASSWORD="secret"

resonate promises get order-123  # Uses env vars automatically
```

## Configuration files

Instead of passing flags every time, create a configuration file:

```yaml title="resonate.yaml"
api:
  http:
    addr: ":8001"
    auth:
      admin: "secret"
  
aio:
  store:
    postgres:
      enable: true
      host: "localhost"
      database: "resonate"
      username: "resonate"
      password: "secret"
```

Then start the server with the config:

```shell title="Use configuration file"
resonate serve --config resonate.yaml
```

See the [server configuration reference](/operate/run-server#customize-configuration) for all available options.

## Tips and tricks

### Use wildcards for search

```shell title="Search for promises by pattern"
resonate promises search "order-*" --limit 20
```

### Format output as JSON

```shell title="Get machine-readable output"
resonate promises get order-123 --output json
```

Useful for scripting and automation.

### Check server health

```shell title="Verify server is running"
curl http://localhost:8001/healthz
```

### View metrics

```shell title="Prometheus metrics"
curl http://localhost:9090/metrics
```

### Connect to remote server

```shell title="Point CLI to a remote server"
resonate promises get order-123 --server https://resonate.yourcompany.com
```

## Command reference

For a complete list of commands and their options, see the [CLI reference](/operate/cli-reference/commands/).

Each command page includes a brief description and a link to the built-in `--help` documentation.

## Troubleshooting

### Command not found

**Error:** `resonate: command not found`

**Solution:** Install the Resonate CLI using [Homebrew](/operate/run-server#install-with-homebrew) or download from [GitHub releases](https://github.com/resonatehq/resonate/releases).

### Connection refused

**Error:** `connect: connection refused`

**Solution:** 
1. Is the server running? Start it with `resonate dev`
2. Using the correct URL? Default is `http://localhost:8001`
3. Check the `--server` flag points to the right address

### Authentication failed

**Error:** `401 Unauthorized`

**Solution:**
1. Does your server require auth? Check the server configuration
2. Providing correct credentials? Use `--token` or `--username`/`--password`
3. Using the right auth method? (token vs basic)

### Promise not found

**Error:** `404 Not Found`

**Solution:**
1. Check the promise ID is correct (IDs are case-sensitive)
2. Was the promise created? Use `resonate promises search` to verify
3. Did the promise expire? Check timeout settings

## Next steps

- Start a [development server](/operate/cli-reference/commands/dev) and connect your SDK
- Explore [example applications](/get-started/examples) that show real-world CLI usage
- Read about [production deployment](/operate/run-server) with persistent storage
- Review the [TypeScript SDK guide](/develop/typescript) or [Python SDK guide](/develop/python)
